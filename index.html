<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BRITS ABROAD 2025 – Luxury Relocation Roadmap</title>
<style>
  /* Luxury theme, colourful, readable */
  :root {
    --primary:#00247d;
    --secondary:#c8102e;
    --accent:#f9d342;
    --muted:#f0f0f0;
    --card-bg:#ffffff;
    --text-color:#111;
    --font-sans:"Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  body {
    margin:0;
    font-family:var(--font-sans);
    background:linear-gradient(180deg,#f0f8ff,#e6f2ff);
    color:var(--text-color);
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:12px;
  }
  h1,h2,h3{margin:0.5em 0; font-weight:700;}
  h1{font-size:2.2rem; color:var(--primary);}
  h2{font-size:1.6rem; color:var(--secondary);}
  h3{font-size:1.2rem;}
  .app {max-width:900px; width:100%; display:flex; flex-direction:column; gap:12px;}
  .phases {display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-bottom:12px;}
  .phase {flex:0 0 100px; height:100px; background:var(--muted); border-radius:16px; display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:pointer; transition:0.2s; text-align:center;}
  .phase.active{background:var(--primary); color:#fff; transform:scale(1.05);}
  .phase.completed{background:var(--secondary); color:#fff;}
  .card{background:var(--card-bg); border-radius:16px; padding:20px; box-shadow:0 8px 20px rgba(0,0,0,0.08);}
  select, input[type=range]{padding:8px 10px; margin:6px 0; border-radius:8px; border:1px solid #ccc; width:100%;}
  input[type=range]{accent-color:var(--secondary);}
  button{padding:10px 18px; border:none; border-radius:10px; cursor:pointer; background:var(--secondary); color:#fff; font-weight:600; transition:0.2s;}
  button:hover{background:#a00f22;}
  .row{display:flex; gap:12px; flex-wrap:wrap;}
  .result, .aiSummary{margin-top:12px; padding:12px; border-radius:10px; background:var(--accent); color:#111;}
  table{width:100%; border-collapse:collapse; margin-top:12px;}
  th,td{padding:10px; border-bottom:1px solid #ccc; text-align:left;}
  th{background:var(--primary); color:#fff;}
  @media(max-width:640px){h1{font-size:1.6rem;} .phase{flex:0 0 80px; height:80px; font-size:0.8rem;}}
</style>
</head>
<body>
<div class="app">
  <header>
    <h1>BRITS ABROAD 2025</h1>
    <p style="color:var(--secondary)">Luxury Relocation Roadmap – Retirement Planning Made Easy</p>
  </header>

  <div class="phases" id="phases"></div>

  <section id="phaseContent"></section>

</div>

<script>
/************** Data **************/
const PHASES = [
  {id:1,title:"Dream Destination"},
  {id:2,title:"Financial Freedom"},
  {id:3,title:"Visa Options"},
  {id:4,title:"Document Checklist"},
  {id:5,title:"Budget Blueprint"},
  {id:6,title:"Shipping & Move"},
  {id:7,title:"Settlement Success"},
  {id:8,title:"Community Connections"},
  {id:9,title:"Tax Planning"},
  {id:10,title:"Celebrate"},
  {id:11,title:"Luxury AI Summary"}
];

const COUNTRIES = ["Portugal","Spain","UAE","Thailand","Cyprus","Italy","France","Greece","Poland","Malta"];

/************** State **************/
let currentPhase=1;
let completed=[];

/************** Functions **************/
function buildPhases(){
  const container = document.getElementById("phases");
  container.innerHTML="";
  PHASES.forEach(p=>{
    const div=document.createElement("div");
    div.className="phase"+(completed.includes(p.id)?" completed":"")+(p.id===currentPhase?" active":"");
    div.textContent=p.title;
    div.onclick=()=>{currentPhase=p.id; showPhase(p.id);}
    container.appendChild(div);
  });
}

function showPhase(n){
  const pc=document.getElementById("phaseContent");
  pc.innerHTML="";
  switch(n){
    case 1: // Dream Destination
      pc.innerHTML=`
        <div class="card">
          <h2>Phase 1: Dream Destination</h2>
          <select id="countrySelect">
            ${COUNTRIES.map(c=>`<option value="${c}">${c}</option>`).join('')}
          </select>
          <button onclick="completePhase(1)">Next</button>
        </div>
      `;
      document.getElementById("countrySelect").value=localStorage.getItem("country")||"Portugal";
      break;
    case 2: // Financial Freedom
      pc.innerHTML=`
        <div class="card">
          <h2>Phase 2: Financial Freedom</h2>
          <div class="row">
            <div>
              <label>Pension: £<span id="pensionVal">10000</span></label>
              <input type="range" id="pensionSlider" min="0" max="60000" value="10000">
            </div>
            <div>
              <label>Property: £<span id="propertyVal">300000</span></label>
              <input type="range" id="propertySlider" min="0" max="2000000" step="10000" value="300000">
            </div>
          </div>
          <div class="result" id="financeResult"></div>
          <button onclick="completePhase(2)">Next</button>
        </div>
      `;
      const pS=document.getElementById("pensionSlider");
      const prS=document.getElementById("propertySlider");
      const fR=document.getElementById("financeResult");
      function updateFinance(){
        let p=parseInt(pS.value), r=parseInt(prS.value);
        pS.previousElementSibling.querySelector("span").textContent=p.toLocaleString();
        prS.previousElementSibling.querySelector("span").textContent=r.toLocaleString();
        fR.textContent=`Estimated savings: £${Math.round(p*0.35+r*0.0025).toLocaleString()}/year`;
      }
      pS.oninput=updateFinance;
      prS.oninput=updateFinance;
      updateFinance();
      break;
    case 3: // Visa Options
      pc.innerHTML=`
        <div class="card">
          <h2>Phase 3: Visa Options</h2>
          <select id="incomeSelect">
            <option value="low">Low income</option>
            <option value="mid">Medium income</option>
            <option value="high">High income</option>
          </select>
          <select id="remoteSelect">
            <option value="yes">Remote work</option>
            <option value="no">Not remote</option>
          </select>
          <button onclick="completePhase(3)">Next</button>
        </div>
      `;
      break;
    case 11: // AI Summary
      const country=localStorage.getItem("country")||"Portugal";
      const pension=parseInt(localStorage.getItem("pension")||10000);
      const property=parseInt(localStorage.getItem("property")||300000);
      pc.innerHTML=`
        <div class="card">
          <h2>Luxury AI Summary</h2>
          <div class="aiSummary">
            Hello! Based on your selections:<br>
            - Destination: ${country}<br>
            - Pension: £${pension.toLocaleString()}<br>
            - Property: £${property.toLocaleString()}<br>
            <br>
            We recommend considering premium relocation services, high-end community options, and tax optimization strategies. Your retirement journey looks very promising!
          </div>
        </div>
      `;
      break;
    default:
      pc.innerHTML=`<div class="card"><h2>${PHASES.find(p=>p.id===n).title}</h2><p>Phase content coming soon.</p><button onclick="completePhase(${n})">Next</button></div>`;
  }
  buildPhases();
}

function completePhase(n){
  if(!completed.includes(n)) completed.push(n);
  localStorage.setItem("completedPhases",JSON.stringify(completed));
  // save key data
  if(n===1){
    const c=document.getElementById("countrySelect").value;
    localStorage.setItem("country",c);
  }
  if(n===2){
    localStorage.setItem("pension",document.getElementById("pensionSlider").value);
    localStorage.setItem("property",document.getElementById("propertySlider").value);
  }
  currentPhase=n+1;
  if(currentPhase>PHASES.length) currentPhase=PHASES.length;
  showPhase(currentPhase);
}

/************** Init **************/
window.onload=function(){
  const saved=JSON.parse(localStorage.getItem("completedPhases")||"[]");
  if(saved.length>0) completed=saved;
  showPhase(currentPhase);
};
</script>
</body>
</html>
