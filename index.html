<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>BRITS ABROAD 2025 â€“ Luxury Relocation Planner</title>
<style>
/* ---------- Base Styles ---------- */
:root {
  --primary:#FF6F61; --secondary:#FFA07A; --accent:#FFD700; --bg:#FFF8F0;
  --text:#333; --card:#fff; --success:#28a745; --error:#c8102e;
}
* {box-sizing:border-box;}
html, body {height:100%; margin:0; font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; background:var(--bg); color:var(--text);}
body {display:flex; flex-direction:column; align-items:center; padding:0;}

/* ---------- Hero ---------- */
.hero {
  width:100%; height:220px; background:linear-gradient(135deg,var(--primary),var(--secondary));
  display:flex; flex-direction:column; justify-content:center; align-items:center; color:#fff;
  text-align:center; padding:20px;
}
.hero h1 {font-size:2.2rem; margin:0;}
.hero p {font-size:1.1rem; margin-top:8px;}

/* ---------- App container ---------- */
.app {width:100%; max-width:980px; padding:18px; display:flex; flex-direction:column; gap:18px;}

/* ---------- Progress ---------- */
.progress-wrap{width:100%; padding:6px 0;}
.progress-bar{height:12px; background:#e0e0e0; border-radius:999px; overflow:hidden;}
.progress-fill{height:100%; width:0%; background:var(--primary); transition:width .4s ease;}

/* ---------- Phases ---------- */
.phases{display:flex; flex-wrap:wrap; gap:10px; justify-content:center;}
.phase{width:90px; height:90px; border-radius:16px; background:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; cursor:pointer; box-shadow:0 6px 18px rgba(0,0,0,0.06); transition:all .2s ease; font-size:0.85rem;}
.phase:hover{transform:translateY(-4px);}
.phase.active{background:var(--primary); color:#fff; transform:scale(1.05);}
.phase.completed{background:var(--success); color:#fff;}
.phase-icon{font-size:1.5rem; margin-bottom:6px;}

/* ---------- Cards ---------- */
.card{background:var(--card); border-radius:14px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,0.07); animation:fadeIn .35s ease;}
.card h2{margin:0 0 12px; font-size:1.3rem;}
input, select, button{font-size:1rem; padding:10px 12px; border-radius:10px; border:2px solid var(--primary);}
button{background:var(--primary); color:#fff; cursor:pointer;}
button:hover{opacity:.85;}
.row{display:flex; gap:12px; align-items:center; flex-wrap:wrap;}
.result, .visaResult, .docResult{display:inline-block; font-size:1rem; background:var(--primary); color:#fff; padding:12px 14px; border-radius:10px; margin-top:12px; min-width:160px;}
.detail{display:none; background:#fef8f0; padding:10px; border-radius:8px; margin-top:6px;}
.detail.show{display:block;}

/* ---------- Responsive ---------- */
@media(max-width:640px){.phase{width:72px;height:72px;font-size:.78rem;} .card{padding:14px;} .hero h1{font-size:1.8rem;}}

/* ---------- Animations ---------- */
@keyframes fadeIn{from{opacity:0; transform:translateY(6px);} to{opacity:1; transform:none;}}
</style>
</head>
<body>

<div class="hero">
  <h1>BRITS ABROAD 2025</h1>
  <p>Luxury Relocation Planner â€“ Your Step-by-Step Guide</p>
</div>

<div class="app" role="application" aria-label="Brits Abroad 2025">

  <!-- Progress -->
  <div class="progress-wrap card">
    <div class="progress-bar"><div id="progressFill" class="progress-fill" style="width:0%"></div></div>
  </div>

  <!-- Phases Navigation -->
  <nav class="phases" id="phases" aria-label="Phases navigation"></nav>

  <!-- Phase Content -->
  <section id="phaseContent" aria-live="polite">

    <!-- Phase 1: Destination -->
    <div id="phase1" class="card">
      <h2>Phase 1: Dream Destination</h2>
      <div class="row">
        <label for="country">Choose Country:</label>
        <select id="country"></select>
      </div>
      <div style="margin-top:12px"><button onclick="completePhase(1)">Complete Phase 1</button></div>
    </div>

    <!-- Phase 2: Financial Planning -->
    <div id="phase2" class="card" style="display:none">
      <h2>Phase 2: Financial Freedom</h2>
      <div class="row">
        <div style="flex:1; min-width:180px">
          <label>Annual Pension (Â£): <span id="pensionVal">10000</span></label>
          <input id="pension" type="range" min="0" max="60000" value="10000" oninput="calc()">
        </div>
        <div style="flex:1; min-width:180px">
          <label>UK Property (Â£): <span id="propertyVal">300000</span></label>
          <input id="property" type="range" min="0" max="2000000" step="10000" value="300000" oninput="calc()">
        </div>
      </div>
      <div class="result" id="result"></div>
      <div style="margin-top:12px"><button onclick="completePhase(2)">Complete Phase 2</button></div>
    </div>

    <!-- Phase 3: Visa -->
    <div id="phase3" class="card" style="display:none">
      <h2>Phase 3: Visa Victory</h2>
      <div class="row">
        <select id="q1"><option value="">Monthly Income?</option><option value="0">Under â‚¬870</option><option value="1">â‚¬870â€“â‚¬3,279</option><option value="2">â‚¬3,280+</option></select>
        <select id="q2"><option value="">Remote Work?</option><option value="0">No</option><option value="1">Yes</option></select>
        <select id="q4"><option value="">Family Joining?</option><option value="0">No</option><option value="1">Yes</option></select>
      </div>
      <div style="margin-top:12px"><button onclick="checkVisa()">Check Visa</button></div>
      <div class="visaResult" id="visaResult">Answer above</div>
      <div style="margin-top:10px"><button onclick="completePhase(3)">Complete Phase 3</button></div>
    </div>

    <!-- Phase 4: Document Vault -->
    <div id="phase4" class="card" style="display:none">
      <h2>Phase 4: Document Vault</h2>
      <input id="files" type="file" multiple>
      <div class="docResult" id="docResult">No files chosen</div>
      <div style="margin-top:10px"><button onclick="completePhase(4)">Complete Phase 4</button></div>
    </div>

    <!-- Phase 5: Budget -->
    <div id="phase5" class="card" style="display:none">
      <h2>Phase 5: Budget Blueprint</h2>
      <table>
        <thead><tr><th>Item</th><th>UK</th><th>Selected Country</th><th>Save</th></tr></thead>
        <tbody>
          <tr><td>Rent</td><td>Â£1,300</td><td>Â£720</td><td>Â£580</td></tr>
          <tr><td>Groceries</td><td>Â£400</td><td>Â£240</td><td>Â£160</td></tr>
          <tr><td><strong>Total</strong></td><td>Â£2,085</td><td>Â£1,160</td><td>Â£925</td></tr>
        </tbody>
      </table>
      <div style="margin-top:10px"><button onclick="completePhase(5)">Complete Phase 5</button></div>
    </div>

    <!-- Phase 6: Healthcare -->
    <div id="phase6" class="card" style="display:none">
      <h2>Phase 6: Healthcare & S1/GHIC Tracker</h2>
      <p class="muted">Track your healthcare coverage abroad</p>
      <div class="row">
        <label>S1 Issued? <input type="checkbox" id="s1"></label>
        <label>GHIC Card? <input type="checkbox" id="ghic"></label>
      </div>
      <div style="margin-top:10px"><button onclick="completePhase(6)">Complete Phase 6</button></div>
    </div>

    <!-- Phase 7: Work Rights -->
    <div id="phase7" class="card" style="display:none">
      <h2>Phase 7: Work Rights Comparator</h2>
      <div class="row">
        <select id="workCountry"><option value="">Select Country</option><option value="EU">EU</option><option value="NonEU">Non-EU</option></select>
      </div>
      <div id="workResult" class="result"></div>
      <div style="margin-top:10px"><button onclick="completePhase(7)">Complete Phase 7</button></div>
    </div>

    <!-- Phase 8: Banking & Money Transfer -->
    <div id="phase8" class="card" style="display:none">
      <h2>Phase 8: Banking & Money Hub</h2>
      <div class="row">
        <label>Bank Name: <input id="bank" type="text"></label>
        <label>Transfer Limit (Â£): <input id="transfer" type="number" value="5000"></label>
      </div>
      <div style="margin-top:10px"><button onclick="completePhase(8)">Complete Phase 8</button></div>
    </div>

    <!-- Phase 9: Housing & School -->
    <div id="phase9" class="card" style="display:none">
      <h2>Phase 9: Housing & School Finder</h2>
      <div class="row">
        <input type="text" id="housing" placeholder="Desired area">
        <input type="text" id="school" placeholder="School requirements">
      </div>
      <div style="margin-top:10px"><button onclick="completePhase(9)">Complete Phase 9</button></div>
    </div>

    <!-- Phase 10: Moving Checklist -->
    <div id="phase10" class="card" style="display:none">
      <h2>Phase 10: Moving & Pet Relocation</h2>
      <textarea id="checklist" placeholder="Add your items here" rows="4" style="width:100%;"></textarea>
      <div style="margin-top:10px"><button onclick="completePhase(10)">Complete Phase 10</button></div>
    </div>

    <!-- Phase 11: AI Summary -->
    <div id="phase11" class="card" style="display:none">
      <h2>Phase 11: AI Relocation Summary</h2>
      <p class="muted">Your relocation AI assistant (placeholder)</p>
      <textarea id="aiInput" placeholder="Enter any questions here..." rows="4" style="width:100%;"></textarea>
      <button onclick="generateAI()">Get AI Summary</button>
      <div id="aiOutput" class="result"></div>
      <div style="margin-top:10px"><button onclick="completePhase(11)">Complete Phase 11</button></div>
    </div>

  </section>
</div>

<script>
// ---------- Data ----------
const PHASES = [
  {id:1,title:'Dream Destination',icon:'ðŸŒ'},
  {id:2,title:'Financial Freedom',icon:'ðŸ’°'},
  {id:3,title:'Visa Victory',icon:'ðŸ“‹'},
  {id:4,title:'Document Vault',icon:'ðŸ“'},
  {id:5,title:'Budget Blueprint',icon:'ðŸ“Š'},
  {id:6,title:'Healthcare',icon:'ðŸ¥'},
  {id:7,title:'Work Rights',icon:'ðŸ’¼'},
  {id:8,title:'Banking & Money',icon:'ðŸ¦'},
  {id:9,title:'Housing & School',icon:'ðŸ '},
  {id:10,title:'Moving Checklist',icon:'ðŸ“¦'},
  {id:11,title:'AI Summary',icon:'ðŸ¤–'}
];
const COUNTRIES = {Portugal:1, Spain:1.05, UAE:1.6, Thailand:0.6, Cyprus:1, Greece:1.1, Italy:1.2, France:1.25, Poland:0.5, Malta:1.05};
let currentPhase = 1;
let completed = [];

// ---------- DOM ----------
const phasesEl = document.getElementById('phases');
const progressFill = document.getElementById('progressFill');
const countrySelect = document.getElementById('country');

function buildPhases(){
  phasesEl.innerHTML = '';
  PHASES.forEach(p=>{
    const d = document.createElement('div');
    d.className='phase'; d.dataset.phase=p.id;
    d.innerHTML=`<div class="phase-icon">${p.icon}</div><div>${p.title}</div>`;
    d.onclick=()=>selectPhase(p.id);
    if(completed.includes(p.id)) d.classList.add('completed');
    if(p.id===currentPhase) d.classList.add('active');
    phasesEl.appendChild(d);
  });
  updateProgress();
}
function updateProgress(){progressFill.style.width=(currentPhase/PHASES.length*100)+'%';}

function populateCountries(){
  countrySelect.innerHTML='';
  Object.keys(COUNTRIES).forEach(c=>{
    const o=document.createElement('option'); o.value=c; o.textContent=c;
    countrySelect.appendChild(o);
  });
  countrySelect.value='Portugal';
}

function showPhase(n){
  PHASES.forEach(p=>{ const el=document.getElementById('phase'+p.id); if(el) el.style.display=(p.id===n?'block':'none'); });
  currentPhase=n; updateProgress();
}

function selectPhase(n){showPhase(n);}

function completePhase(n){if(!completed.includes(n)) completed.push(n); buildPhases(); if(n<PHASES.length) selectPhase(n+1);}

// ---------- Financial Calculations ----------
function calc(){
  const p=parseInt(document.getElementById('pension').value||0);
  const r=parseInt(document.getElementById('property').value||0);
  document.getElementById('pensionVal').textContent=p.toLocaleString();
  document.getElementById('propertyVal').textContent=r.toLocaleString();
  const dest=countrySelect.value||'Portugal';
  const mult=COUNTRIES[dest]||1;
  const savings=Math.round((p*0.35+r*0.0025)*mult);
  document.getElementById('result').textContent=`You could save Â£${savings.toLocaleString()}/year in ${dest}!`;
}

// ---------- Visa ----------
function checkVisa(){
  const income=parseInt(document.getElementById('q1').value||'-1');
  const remote=parseInt(document.getElementById('q2').value||'0');
  const family=parseInt(document.getElementById('q4').value||'0');
  let visa='';
  if(income===-1) visa='Please select income bracket.';
  else if(income===2 && remote===1) visa='Digital Nomad â€“ likely to qualify';
  else if(income===2) visa='Investor/Golden options or high-income visa';
  else if(income===1) visa='Non-lucrative / similar options likely';
  else visa='Lower income routes';
  if(family===1) visa+=' â€” Family included';
  document.getElementById('visaResult').textContent=visa;
}

// ---------- Work Rights ----------
document.getElementById('workCountry')?.addEventListener('change',()=>{
  const val=document.getElementById('workCountry').value;
  const res=val==='EU'?'Free work in EU countries':'Work permits required for Non-EU countries';
  document.getElementById('workResult').textContent=res;
});

// ---------- Document Vault ----------
document.getElementById('files')?.addEventListener('change',(e)=>{
  const files=Array.from(e.target.files||[]);
  document.getElementById('docResult').textContent=files.length>0?'Files uploaded':'No files chosen';
});

// ---------- AI Placeholder ----------
function generateAI(){
  const input=document.getElementById('aiInput').value;
  document.getElementById('aiOutput').textContent='AI Placeholder Response: We analyzed your inputs for '+input;
}

// ---------- Init ----------
function init(){buildPhases();populateCountries();showPhase(currentPhase);}
init();
</script>
</body>
</html>
