<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brits Abroad 2025 – Ultimate Relocation App</title>

<style>
:root{
  --blue:#0b3c5d;
  --gold:#d4af37;
  --sand:#fdf6ec;
  --accent:#ff7a18;
  --card:#ffffff;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto;
  background:linear-gradient(180deg,#fffaf2,#f4efe6);
  color:#1c2b36;
}

header{
  background:linear-gradient(120deg,#ffecd2,#fcb69f);
  padding:40px 20px;
  text-align:center;
}

header h1{
  font-size:2.4rem;
  margin:0;
}

header p{
  font-size:1.2rem;
  max-width:700px;
  margin:12px auto 0;
}

.container{
  max-width:1100px;
  margin:auto;
  padding:20px;
}

.phase-nav{
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding:10px 0;
}

.phase-btn{
  flex:0 0 auto;
  background:var(--card);
  border-radius:12px;
  padding:14px;
  min-width:150px;
  text-align:center;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.08);
  transition:transform .2s;
}

.phase-btn:hover{transform:translateY(-4px)}
.phase-btn.active{
  background:linear-gradient(135deg,var(--accent),#ffb347);
  color:#fff;
  font-weight:600;
}

.card{
  background:var(--card);
  border-radius:16px;
  padding:24px;
  margin:20px 0;
  box-shadow:0 10px 30px rgba(0,0,0,0.1);
}

h2{
  margin-top:0;
  font-size:1.8rem;
}

label{
  font-weight:600;
  display:block;
  margin-top:16px;
}

select,input[type=range],input[type=number]{
  width:100%;
  margin-top:8px;
}

input[type=range]{accent-color:var(--accent)}

.output{
  background:linear-gradient(135deg,#ffecd2,#fcb69f);
  border-radius:12px;
  padding:16px;
  margin-top:16px;
  font-weight:600;
}

button{
  background:var(--accent);
  color:white;
  border:none;
  border-radius:40px;
  padding:14px 26px;
  font-size:1.1rem;
  cursor:pointer;
  margin-top:20px;
}

button:hover{opacity:.9}

.hidden{display:none}

.footer{
  text-align:center;
  padding:30px;
  opacity:.6;
  font-size:.9rem;
}
</style>
</head>

<body>

<header>
  <h1>BRITS ABROAD 2025</h1>
  <p>Your all-in-one relocation command centre for UK passport holders</p>
</header>

<div class="container">

<!-- NAVIGATION -->
<div class="phase-nav" id="nav"></div>

<!-- PHASE CONTENT -->
<div id="content"></div>

</div>

<div class="footer">
  Educational tool – not legal or financial advice
</div>

<script>
/* ================= DATA ================= */

const countries = {
  Portugal:{cost:0.75, tax:0.1, visa:"D7 Passive Income"},
  Spain:{cost:0.85, tax:0.18, visa:"Non-Lucrative"},
  Cyprus:{cost:0.8, tax:0.05, visa:"Category F"},
  Thailand:{cost:0.55, tax:0.0, visa:"Retirement O-A"},
  UAE:{cost:1.1, tax:0.0, visa:"Retirement Visa"}
};

const phases = [
  "Destination",
  "Work Rights",
  "UK Pension",
  "Budget Impact",
  "Cost of Living",
  "Healthcare",
  "Banking",
  "Housing",
  "Moving",
  "AI Summary",
  "Retirement Roadmap"
];

let state = {
  country:"Portugal",
  pension:12000,
  property:300000
};

/* ================= BUILD NAV ================= */

const nav = document.getElementById("nav");
phases.forEach((p,i)=>{
  const b=document.createElement("div");
  b.className="phase-btn"+(i===0?" active":"");
  b.textContent=(i+1)+". "+p;
  b.onclick=()=>showPhase(i);
  nav.appendChild(b);
});

/* ================= PHASE LOGIC ================= */

function showPhase(i){
  document.querySelectorAll(".phase-btn").forEach((b,bi)=>{
    b.classList.toggle("active",bi===i);
  });

  const c=document.getElementById("content");
  c.innerHTML="";

  const card=document.createElement("div");
  card.className="card";

  if(i===0){
    card.innerHTML=`
      <h2>Choose Your Destination</h2>
      <label>Country</label>
      <select onchange="setCountry(this.value)">
        ${Object.keys(countries).map(c=>`<option ${c===state.country?"selected":""}>${c}</option>`)}
      </select>
      <div class="output">Visa Type: ${countries[state.country].visa}</div>
    `;
  }

  if(i===1){
    card.innerHTML=`
      <h2>Work Rights Comparator</h2>
      <div class="output">
        EU Countries: limited work rights post-Brexit<br>
        Non-EU: visa dependent (often no work)<br><br>
        Selected: <b>${state.country}</b>
      </div>`;
  }

  if(i===2){
    card.innerHTML=`
      <h2>UK State Pension Planner</h2>
      <label>Annual Pension (£)</label>
      <input type="range" min="0" max="40000" value="${state.pension}" oninput="setPension(this.value)">
      <div class="output">£${Number(state.pension).toLocaleString()} per year</div>`;
  }

  if(i===3){
    const tax=state.pension*countries[state.country].tax;
    card.innerHTML=`
      <h2>2025 Budget Impact</h2>
      <div class="output">
        Estimated Tax Abroad: £${tax.toFixed(0)}<br>
        UK Equivalent: £${(state.pension*0.25).toFixed(0)}
      </div>`;
  }

  if(i===4){
    card.innerHTML=`
      <h2>Cost of Living Comparison</h2>
      <div class="output">
        ${state.country} ≈ ${(countries[state.country].cost*100).toFixed(0)}% of UK costs
      </div>`;
  }

  if(i===5){
    card.innerHTML=`
      <h2>Healthcare & S1</h2>
      <div class="output">
        ${["Portugal","Spain","Cyprus"].includes(state.country)
        ? "S1 eligible with UK pension"
        : "Private healthcare required"}
      </div>`;
  }

  if(i===6){
    card.innerHTML=`
      <h2>Banking & Money Transfers</h2>
      <div class="output">
        Wise / Revolut recommended<br>
        Avoid UK bank residency blocks
      </div>`;
  }

  if(i===7){
    card.innerHTML=`
      <h2>Housing & Schools</h2>
      <div class="output">
        Rental first recommended<br>
        Schooling varies by region
      </div>`;
  }

  if(i===8){
    card.innerHTML=`
      <h2>Moving & Pets</h2>
      <div class="output">
        Pet passport required<br>
        Movers €3k–€8k typical
      </div>`;
  }

  if(i===9){
    const score=Math.round(
      (1-countries[state.country].cost)*40+
      (1-countries[state.country].tax)*40+
      20
    );
    card.innerHTML=`
      <h2>AI Relocation Summary</h2>
      <div class="output">
        Relocation Score: ${score}/100<br><br>
        ${state.country} is a strong option for pension-led relocation with manageable costs and lifestyle advantages.
      </div>`;
  }

  if(i===10){
    card.innerHTML=`
      <h2>Retirement Roadmap</h2>
      <div class="output">
        Country: ${state.country}<br>
        Visa: ${countries[state.country].visa}<br>
        Estimated Net Pension: £${(state.pension*(1-countries[state.country].tax)).toFixed(0)}<br><br>
        ✔ Feasible<br>
        ✔ Sustainable<br>
        ✔ Lifestyle aligned
      </div>`;
  }

  c.appendChild(card);
}

/* ================= STATE UPDATES ================= */

function setCountry(v){
  state.country=v;
  showPhase(document.querySelector(".phase-btn.active").innerText[0]-1);
}

function setPension(v){
  state.pension=Number(v);
  showPhase(2);
}

/* ================= INIT ================= */
showPhase(0);
</script>

</body>
</html>
